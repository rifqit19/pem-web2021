<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Belajar Dasar Ajax dengan Axios</title>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  </head>
  <body>
    <h1>Tutorial Ajax dengan Axios</h1>
    <button id="load-btn" onclick="loadContent()">Load Content</button>
    <div id="hasil"></div>

    <script>
      function loadContent() {
        document.getElementById("load-btn").innerHTML = "loading...";
        document.getElementById("load-btn").setAttribute("disabled", "true");

        var url = "https://jsonplaceholder.typicode.com/posts/";
        axios
          .get(url)
          .then(function (response) {
            var template = response.data.map((post) => {
              return `
            <h3>${post.title}</h3>
            <p>${post.body}</p>
            <hr>
            `;
            });
            document.getElementById("hasil").innerHTML = template;
          })
          .catch(function (e) {
            console.log("gagal mengambil data");
          })
          .then(function () {
            document.getElementById("load-btn").innerHTML = "Done";
            document.getElementById("load-btn").removeAttribute("disabled");
          });
      }
    </script>
  </body>
</html>
